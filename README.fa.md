<p align="left">
  <a href="./README.md">๐บ๐ธ English</a>
</p>

# SmartDoorControl

SmartDoorControl ฺฉ ุจฺฉโุงูุฏ ูุจ Django ุฑุง ุจุง ูุงูโุงูุฒุงุฑ MicroPython ุฑู ESP32-S3 ุชุฑฺฉุจ ูโฺฉูุฏ ุชุง ฺฉ ุฑููู ูููุฑุฏ ุฑุง ุจุฑุง ุขุฒุงุฏ ฺฉุฑุฏู ุฏุฑ ฺฉูุชุฑู ฺฉูุฏ. ESP32 ุจฺฉโุงูุฏ ุฑุง ุงุฒ ุทุฑู HTTP ูพูู ูโฺฉูุฏุ ููุช ูุฑูุงู ุฏุฑ ุตู ูุฑุงุฑ ุฏุงุฑุฏ ุฑูู ุฑุง ุชุญุฑฺฉ ูโฺฉูุฏ ู ูุถุนุช ู ฺฏุฒุงุฑุดโูุง ุฑุง ุจู ุณุฑูุฑ ุจุฑูโฺฏุฑุฏุงูุฏ. ุจฺฉโุงูุฏ ูุฏุฑุช ุฎุงููุงุฑุ ุฏุณุชุฑุณ ูุจ/PWA ุจุฑุง ูุนุงูโุณุงุฒ ุจุงุฒ ุดุฏู ุฏุฑุ ู Endpointูุง ุณูุช ุฏุณุชฺฏุงู ุจุฑุง ูุฑูุงูโูุงุ ูุงูโุงูุฒุงุฑ ู ุซุจุช ุฑูุฏุงุฏ ุฑุง ูุฑุงูู ูโฺฉูุฏ.

## ูุนูุงุฑ ุณุณุชู
- **ุฏุณุชฺฏุงู (ESP32-S3 + ุฑูู):** ุจู Wi-Fi ูุชุตู ูโุดูุฏุ ูุฑ ฺูุฏ ุซุงูู ุจฺฉโุงูุฏ ุฑุง ูพูู ูโฺฉูุฏุ ููฺฏุงู ุฏุณุชูุฑ ูุนุงูโุณุงุฒ ุฑูู ุฑุง ุฑูุดู ูโฺฉูุฏ ู ุจูโุตูุฑุช ุฏูุฑูโุง ฺฏุฒุงุฑุดโูุง ู ุฏุงุฏูู ูุณุฎูู ูุงูโุงูุฒุงุฑ/ุชูุธูุงุช ุฑุง ุจุงุฑฺฏุฐุงุฑ ูโฺฉูุฏ. ฺฉ watchdog ุญูููู ุงุตู ุฑุง ูุญุงูุธุช ูโฺฉูุฏ ู ูพุณ ุงุฒ ุฎุทุงูุง ุจุญุฑุงู ุจุฑุฏ ุฑุณุช ูโุดูุฏ.ใF:devices/firmware/main.pyโL1-L130ใใF:devices/firmware/main.pyโL718-L829ใ
- **ุจฺฉโุงูุฏ (Django):** ุณุงุฎุชูุงูโูุง/ุฎุงููุงุฑูุงุ ุญุณุงุจโูุง ฺฉุงุฑุจุฑ ุจุง ููุดโูุง head/memberุ ูุฑูุงูโูุง ุฏุฑุ ฺฏุฒุงุฑุดโูุง ุฏุณุชุฑุณุ Payloadูุง ูุงูโุงูุฒุงุฑ ุฏุณุชฺฏุงู ู ฺฏุฒุงุฑุดโูุง ุฏุณุชฺฏุงู ุฑุง ุฐุฎุฑู ูโฺฉูุฏ. ฺฉุงุฑุจุฑุงู ุจุง ุงุญุฑุงุฒ ููุช Session ุงุฒ ุทุฑู ููุงูุง HTML ุชุนุงูู ูโฺฉููุฏุ ุฏุณุชฺฏุงูโูุง ุจุง ุชูฺฉู API ุฏุฑ `X-DEVICE-TOKEN` ุงุญุฑุงุฒ ููุช ูโุดููุฏ.ใF:config/settings.pyโL1-L74ใใF:devices/models.pyโL9-L64ใใF:access/models.pyโL1-L44ใใF:devices/urls.pyโL1-L11ใ

## ุงุฌุฒุง ุณุฎุชโุงูุฒุงุฑ
- ESP32-S3 ฺฉู MicroPython ุงุฌุฑุง ูโฺฉูุฏ.
- ฺฉ ฺฉุงูุงู ุฑูู ฺฉู ูุณุชููุงู ุงุฒ ฺฉ GPIO ุฑู ESP32 ุฑุงูโุงูุฏุงุฒ ูโุดูุฏ.
- ุงุชุตุงู ุดุจฺฉูู Wi-Fi.

### ุณูโฺฉุด ู ูพุงูโูุง ูพุดโูุฑุถ
| ุณฺฏูุงู | GPIO ูพุดโูุฑุถ | ุงุฏุฏุงุดุชโูุง |
| --- | --- | --- |
| ฺฉูุชุฑู ุฑูู | 16 | ุจูโุตูุฑุช ูพุดโูุฑุถ Active-low ุงุณุชุ ูุงูโุงูุฒุงุฑ ุจุฑุง ูุนุงูโุณุงุฒ ูพุงู ุฑุง ูพุงู ูโฺฉุดุฏ ู ุจุฑุง ุฑูุงุณุงุฒ ุขู ุฑุง ุจู ูุฑูุฏ (high-Z) ุชุบุฑ ูโุฏูุฏ. ุงุฒ ุทุฑู ุซุงุจุชโูุง ูุงุจู ูพฺฉุฑุจูุฏ ุงุณุช.ใF:devices/firmware/main.pyโL41-L67ใใF:devices/firmware/main.pyโL82-L105ใ

## ุฑูุชุงุฑ ูุงูโุงูุฒุงุฑ
1. **ูพฺฉุฑุจูุฏ:** ุซุงุจุชโูุง ุงุจุชุฏุง `devices/firmware/main.py` SSID ู ฺฏุฐุฑูุงฺูโูุง Wi-Fi ุจุง ุงูููุชุ ุขุฏุฑุณ ูพุงูู ุจฺฉโุงูุฏุ ุชูฺฉู APIุ ูุทุจุช/ูพุงูู ุฑููุ ูุฏุช ูพุงูุณุ ูฺฏูุฏุงุฑูุฏูู watchdog ู ุจุงุฒูโูุง pollุ Endpointูุง OTA ู ุชูุธูุงุช WebREPL ุฑุง ุชุนุฑู ูโฺฉููุฏ. ูุจู ุงุฒ ููุด ฺฉุฑุฏู ุขููุง ุฑุง ูุฑุงุด ฺฉูุฏ.ใF:devices/firmware/main.pyโL17-L70ใ
2. **ุฑุงูโุงูุฏุงุฒ ู ุงุชุตุงู:** ุฑูู ุจู ุญุงูุช ุฎุงููุด ุงูู ุชูุธู ูโุดูุฏุ Wi-Fi ูุนุงู ูโุดูุฏ ู ุจุฑุฏ ุดุจฺฉูโูุง ูพฺฉุฑุจูุฏโุดุฏู ุฑุง ุจูโุชุฑุชุจ ุงูููุช ุงุณฺฉู ูโฺฉูุฏ. ุงุชุตุงู ุฑุง ุชฺฉุฑุงุฑ ูโฺฉูุฏุ ุฏุฑ ุตูุฑุช ุดฺฉุณุช ูโุชูุงูุฏ ุฑุงุจุท ุฑุง ุฑุณุช ฺฉูุฏ ู ูพุณ ุงุฒ ุงุชุตุงู ูโุชูุงูุฏ WebREPL ุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ.ใF:devices/firmware/main.pyโL82-L279ใใF:devices/firmware/main.pyโL653-L699ใ
3. **Watchdog:** ฺฉ Watchdog ุณุฎุชโุงูุฒุงุฑ ุจุง ุฒูุงูโุณูุฌ ณฐ ุซุงูู ุฏุฑ ุทูู ุงูุชุธุงุฑูุง ุดุจฺฉู ู ุญูููู ุงุตู ุชุบุฐู ูโุดูุฏุ ุงุณุชุซูุงูุง ูุฏุฑุชโูุดุฏู ุจุงุนุซ ุชุฃุฎุฑ ฺฉูุชุงู ู ุณูพุณ ุฑุณุช ุจุฑุฏ ูโุดููุฏ.ใF:devices/firmware/main.pyโL27-L70ใใF:devices/firmware/main.pyโL624-L716ใใF:devices/firmware/main.pyโL829-L843ใ
4. **ฺุฑุฎูู Polling:** ูุฑ `POLL_INTERVAL_MS` (ูพุดโูุฑุถ ฒ ุซุงูู) ุฏุณุชฺฏุงู ุงุฒ ุงุชุตุงู Wi-Fi ูุทูุฆู ูโุดูุฏุ ฺฉ ฺฏุฒุงุฑุด Boot ฺฉโุจุงุฑ ุงุฑุณุงู ูโฺฉูุฏุ ุจุฑุง ูุฑูุงู ูพูู ูโฺฉูุฏุ ููุช `open` ุจุฑุงุจุฑ true ุจุงุดุฏ ุฑูู ุฑุง ูุนุงู ูโฺฉูุฏุ ูุฑูุงูโูุง ุงุฌุฑุงุดุฏู ุฑุง ุชุฃุฏ ูโฺฉูุฏุ ุฏุฑ ุตูุฑุช ูุนุงู ุจูุฏู ุจุฑุฑุณ OTA ุงูุฌุงู ูโุฏูุฏุ ูุฑ ุฏููู ฺฉ Heartbeat ุซุจุช ูโฺฉูุฏ ู ุณูพุณ ุจูโุงูุฏุงุฒูู ุจุงุฒูู Poll ูโุฎูุงุจุฏ.ใF:devices/firmware/main.pyโL718-L829ใ
5. **ฺฉูุชุฑู ุฑูู:** ุฑูู ุจุฑุง ูุฏุช ูพุงูุณ ุฏุฑุฎูุงุณุชโุดุฏู (ููโุซุงูู) ุจุง ููุทู Active-low ูุนุงู ูโุดูุฏ ู ุณูพุณ ุจู ุงููพุฏุงูุณ ุจุงูุง ุฑูุง ูโุดูุฏ.ใF:devices/firmware/main.pyโL678-L695ใ
6. **ุซุจุช ุฑูุฏุงุฏ:** ฺฏุฒุงุฑุดโูุง ุดุงูู Bootุ ุงุฌุฑุง ูุฑูุงู ู ูพุงูโูุง Heartbeat ุฏูุฑูโุง ุจุง ูุณุฎูโูุง ูุงูโุงูุฒุงุฑ/ุชูุธูุงุช ู ูุฑุงุฏุงุฏูู Wi-Fi ูุณุชูุฏุ ุจู Endpoint ุซุจุช ุจฺฉโุงูุฏ ุงุฑุณุงู ู ุฑู stdout ุขูู ูโุดููุฏ.ใF:devices/firmware/main.pyโL513-L574ใใF:devices/firmware/main.pyโL718-L807ใ
7. **ุจูโุฑูุฒุฑุณุงู OTA:** ููุช ูุนุงู ุจุงุดุฏุ ุฏุณุชฺฏุงู `/api/device/firmware/` (ูพุดโูุฑุถ ูุฑ ถฐ ุซุงูู) ุฑุง ุจุฑุง Payloadูุง ูุงูโุงูุฒุงุฑ ู ุชูุธูุงุช ุจุง Checksum ุจุฑุฑุณ ูโฺฉูุฏ. Payloadูุง ุฌุฏุฏ ุฏุฑ ูุงูโูุง ูุญู ููุดุชู ูโุดููุฏ ู ฺฉ ุฑุณุช ุฏุฑุฎูุงุณุช ูโุดูุฏ ุชุง ุจูโุฑูุฒุฑุณุงูโูุง ููฺฏุงู Boot ุงุนูุงู ุดููุฏ.ใF:devices/firmware/main.pyโL576-L652ใ
8. **ูุฏุฑุช ุฎุทุง:** ุงุณุชุซูุงูุง ุดุจฺฉู ู API ฺฏุฑูุชู ูโุดููุฏ ุชุง ุญููู ุฒูุฏู ุจูุงูุฏุ ุฎุทุงูุง ุจุญุฑุงู ุจู ุฑุณุช ุฎุชู ูโุดููุฏ ู ุงฺฏุฑ ุญููู ูุชููู ุดูุฏ Watchdog ุฑุณุช ุฑุง ุงุนูุงู ูโฺฉูุฏ.ใF:devices/firmware/main.pyโL439-L523ใใF:devices/firmware/main.pyโL829-L843ใ

## API ุฏุณุชฺฏุงู โ ุจฺฉโุงูุฏ
ูููู Endpointูุง ุฏุณุชฺฏุงู ุจู `X-DEVICE-TOKEN` ุจุฑุง ุงุญุฑุงุฒ ููุช ูุงุฒ ุฏุงุฑูุฏ.ใF:devices/views.pyโL25-L41ใใF:devices/urls.pyโL1-L11ใ

| Method | Path | Request body | Response | Notes |
| --- | --- | --- | --- | --- |
| `GET` | `/api/device/command/` | โ | `{open: true, command_id, pulse_ms}` ุง `{open: false}` | ูุฑูุงูโูุง ูููุถโุดุฏู (>15s) ูพุด ุงุฒ ุจุงุฒฺฏุฑุฏุงู ูุฏูโุชุฑู ูุฑูุงู ูุนูู ุนูุงูุชโฺฏุฐุงุฑ ูโุดููุฏ.ใF:devices/views.pyโL43-L78ใ |
| `POST` | `/api/device/command/ack/` | `{"command_id": <id>}` | `{status: "ok"}` ุง ุฎุทุง | ูุฑูุงู ุฑุง ุจุง ุฒูุงู ุงุฌุฑุง ุนูุงูุชโฺฏุฐุงุฑ ูโฺฉูุฏุ ุงฺฏุฑ ูุนูู ูุจุงุดุฏ 404 ุจุฑูโฺฏุฑุฏุงูุฏ.ใF:devices/views.pyโL81-L110ใ |
| `GET` | `/api/device/firmware/` | โ | `{version, content, checksum, config, config_version, config_checksum}` ุง `{}` | ุจุฑุง OTA ูุงูโุงูุฒุงุฑ/ุชูุธูุงุช ู Checksumูุง ุฑุง ุชุฃูู ูโฺฉูุฏ.ใF:devices/views.pyโL112-L134ใ |
| `POST` | `/api/device/logs/` | `{message, level?, event_type?, firmware_version?, metadata?}` | `{status: "ok"}` ุง ุฎุทุง | ฺฉ `DeviceLog` ุฐุฎุฑู ูโฺฉูุฏุ `last_seen` ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูุฏ ู ูุฑุงุฏุงุฏู ุฑุง ุจุง IP ู user-agent ุบู ูโฺฉูุฏ.ใF:devices/views.pyโL136-L171ใ |

## ูุณุฆููุชโูุง ุจฺฉโุงูุฏ
- **ููุดโูุง ฺฉุงุฑุจุฑ:** `accounts.User` ุณูุงุฑุด ููุดโูุง `HEAD` ู `MEMBER` ุฑุง ุงุถุงูู ูโฺฉูุฏ. Headูุง ุฎุงููุงุฑ/ุณุงุฎุชูุงู ุฑุง ูุฏุฑุช ูโฺฉููุฏุ Memberูุง ุจู ูพุฑููุงู ุฎุงููุงุฑ ุจุง ูพูุฌุฑูโูุง ุฒูุงู ูุฌุงุฒ ู ูพุฑฺู ูุนุงู ูุฑุชุจุท ูุณุชูุฏ.ใF:accounts/models.pyโL1-L19ใใF:households/models.pyโL1-L35ใ
- **ุฎุงููุงุฑูุง ู ุณุงุฎุชูุงูโูุง:** ูุฑ ุฎุงููุงุฑ ุจู ฺฉ ุณุงุฎุชูุงู ุชุนูู ุฏุงุฑุฏ ู ูุฑ ุณุงุฎุชูุงู ูโุชูุงูุฏ ุฏุณุชฺฏุงูโูุง ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุญูุฒูู ูุฑูุงู/ฺฏุฒุงุฑุด ุณุงุฎุชูุงู ุฑุง ุจู ุงุฑุซ ูโุจุฑูุฏ.ใF:households/models.pyโL1-L23ใใF:devices/models.pyโL9-L30ใ
- **ุฌุฑุงู ุฏุณุชุฑุณ:**
  - Headูุง ุฑู ุฏุงุดุจูุฑุฏ ูุฑูุฏ ูโุขูุฏุ Memberูุง ุงุฒ ูพุงูู ุฏุฑ ุฏุฑ `/door/` ุจุฑุง ุฏุฑุฎูุงุณุช ุฏุณุชุฑุณ ุงุณุชูุงุฏู ูโฺฉููุฏ.ใF:access/views.pyโL1-L46ใ
  - ููุช ูพุฑููุงู ุนุถู ูุนุงู ู ุฏุฑ ุจุงุฒูู ุฒูุงู ูพฺฉุฑุจูุฏโุดุฏู ุจุงุดุฏ ุฏุณุชุฑุณ ุงุนุทุง ูโุดูุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ฺฉ ูุฑูุฏ `AccessLog` ุฑุฏุดุฏู ุซุจุช ูโุดูุฏ. ุฏุฑุฎูุงุณุชโูุง ูููู ฺฉ `DoorCommand` ู ฺฏุฒุงุฑุด ูููู ุงุฌุงุฏ ูโฺฉููุฏุ Headูุง ูโุชูุงููุฏ ุจุฏูู ุจุฑุฑุณ ุฒูุงูโุจูุฏ ูุฑูุงู ุงุฌุงุฏ ฺฉููุฏ.ใF:access/views.pyโL22-L65ใใF:access/models.pyโL1-L44ใ
  - ูุฑูุงูโูุง ูุชุนูู ุจู ุฏุณุชฺฏุงูู ุณุงุฎุชูุงู ุฎุงููุงุฑ ูุณุชูุฏ. ุฏุณุชฺฏุงูโูุง ูุฑูุงูโูุง ุฑุง ูพูู/ุชุฃุฏ ูโฺฉููุฏุ ูุฑูุงูโูุง ูููุถ ุจุง ููุง Poll ุนูุงูุชโฺฏุฐุงุฑ ูโุดููุฏ.ใF:access/models.pyโL1-L19ใใF:devices/views.pyโL43-L78ใ
- **ููุงูุง ุงุฏูู ุฏุณุชฺฏุงู:** Headูุง ุฎุงููุงุฑ ูโุชูุงููุฏ ฒฐฐ ฺฏุฒุงุฑุด ุงุฎุฑ ุฏุณุชฺฏุงู ุจูโููุฑุงู Breakdown ุณุทุญ ู ุฑูุฏุงุฏ ุฑุง ุฏุฑ `/devices/logs/` ุจุฑุฑุณ ฺฉููุฏ.ใF:devices/views.pyโL173-L198ใ
- **ุฐุฎุฑูู ูุงูโุงูุฒุงุฑ:** ูุฑ ุฏุณุชฺฏุงู ูโุชูุงูุฏ ุฑฺฉูุฑุฏ `DeviceFirmware` ูุฑุชุจุท ุฏุงุดุชู ุจุงุดุฏ ฺฉู Blobูุง ูุงูโุงูุฒุงุฑ ู ุชูุธูุงุช ุฑุง ุฐุฎุฑู ูโฺฉูุฏุ Checksumูุง ููฺฏุงู ุฐุฎุฑู ุจุฑุง ุชุฃุฏ OTA ูุญุงุณุจู ูโุดููุฏ.ใF:devices/models.pyโL31-L64ใ

## ุฑุงุจุท ูุจ / PWA
- ูุงูุจโูุง ูพุงู ฺฉ Web Manifest ู Service Worker ุฑุง ุจุฑุง ูพุดุชุจุงู ุงุฒ ุงุณุชูุงุฏูู Installable/Standalone ุซุจุช ูโฺฉููุฏ.ใF:templates/base/base.htmlโL1-L13ใ
- Service Worker ุตูุญูู ุฎุงูู ู ูุณุฑ `/door/` ุจูโุนูุงูู Manifest ู ุขฺฉููโูุง ุฑุง ูพุดโฺฉุด ูโฺฉูุฏุ ููฺฏุงู ูุนุงูโุณุงุฒ ูุณุฎูโูุง Cache ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูุฏ ู ุฏุฑ ุตูุฑุช ุดฺฉุณุช Fetch ุงุฒ Cache ุงุณุชูุงุฏู ูโฺฉูุฏ.ใF:static/service-worker.jsโL1-L36ใ
- ูุฑุงุฏุงุฏูู Manifest ูุงูโูุงุ ุฑูฺฏโูุงุ ุขฺฉููโูุง ู Start URL ุฑุดูโุดุฏู ุฏุฑ `/` ุฑุง ุชุนุฑู ูโฺฉูุฏ.ใF:static/manifest.jsonโL1-L21ใ

## ูพุงุฑุงูุชุฑูุง ูพฺฉุฑุจูุฏ (ูุงูโุงูุฒุงุฑ)
- **ุดุจฺฉู ู ุณุฑูุฑ:** ููุฑุณุช `WIFI_NETWORKS` ุจุง ุงูููุชโูุงุ `SERVER_BASE_URL`ุ `DEVICE_TOKEN` ู Endpointูุง HTTP ุจุฑุง Commandุ Ackุ Log ู ุจุฑุฑุณ OTA.ใF:devices/firmware/main.pyโL17-L55ใ
- **ุฑูู:** `RELAY_GPIO_PIN`ุ `RELAY_ACTIVE_LOW`ุ `RELAY_DEFAULT_PULSE_MS`.ใF:devices/firmware/main.pyโL37-L45ใ
- **ุฒูุงูโุจูุฏ:** `POLL_INTERVAL_MS`ุ `OTA_CHECK_INTERVAL_MS`ุ `VERSION_LOG_INTERVAL_MS`ุ `WATCHDOG_TIMEOUT_MS`ุ `REQUEST_TIMEOUT_SEC`ุ `RESET_DELAY_MS`.ใF:devices/firmware/main.pyโL41-L70ใ
- **ูุงูโูุง OTA:** ูุณุฑูุง ูุณุฎูโูุง ู Checksumูุง ูุงูโุงูุฒุงุฑ/ุชูุธูุงุช ุฐุฎุฑูโุดุฏู ุฑู ุฏุณุชฺฏุงู (`firmware_version.txt`ุ `firmware_checksum.txt`ุ `device_config.json` ู ...).ใF:devices/firmware/main.pyโL55-L66ใ
- **ุนุจโุงุจ:** `WEBREPL_ENABLED` ู `WEBREPL_PASSWORD` ุณุฑูุฑ WebREPL ุฏุงุฎู ุฑุง ูุนุงู/ุบุฑูุนุงู ูโฺฉููุฏ.ใF:devices/firmware/main.pyโL67-L70ใ

## ููุด ู ุงุณุชูุฑุงุฑ ุฏุณุชฺฏุงู
1. MicroPython ุฑุง ุฑู ุจุฑุฏ ESP32-S3 ููุด ฺฉูุฏ.
2. ุซุงุจุชโูุง ุงุจุชุฏุง `devices/firmware/main.py` ุฑุง ุจุฑุง ุชูุธู ุงุนุชุจุงุฑูุงููโูุง Wi-Fiุ ุขุฏุฑุณ URL ุจฺฉโุงูุฏุ ุชูฺฉู ุฏุณุชฺฏุงูุ ูพุงู/ูุทุจุช GPIO ู ุชุฑุฌุญุงุช ุฒูุงูโุจูุฏ/OTA ูุฑุงุด ฺฉูุฏ.ใF:devices/firmware/main.pyโL17-L70ใ
3. `main.py` ุฑุง ุจู ูุงูโุณุณุชู ุฏุณุชฺฏุงู (ูุซูุงู WebREPL ุง ุงูุชูุงู ุณุฑุงู) ุจุงุฑฺฏุฐุงุฑ ฺฉูุฏ.
4. ุจุฑุฏ ุฑุง ุฑุจูุช ฺฉูุฏ. ุฏุฑ Boot ุฑูู ุฑุง ููุฏุงุฑุฏู ุงููู ูโฺฉูุฏุ ุจู Wi-Fi ูุชุตู ูโุดูุฏุ ฺฉ ฺฏุฒุงุฑุด Boot ูโูุฑุณุชุฏ ู ูุงุฑุฏ ุญูููู Polling ุจุฑุง ูุฑูุงูโูุง ู ุจูโุฑูุฒุฑุณุงูโูุง OTA ูโุดูุฏ.ใF:devices/firmware/main.pyโL82-L279ใใF:devices/firmware/main.pyโL718-L807ใ

## ุงุฌุฑุง ุจฺฉโุงูุฏ ุจูโุตูุฑุช ูุญู
ุงูุฒุงูุงุช: Python 3.11+ ุจุง SQLite (ูพุดโูุฑุถ). ุฏุฑ ุตูุฑุช ูุฑุงุด `static/css/input.css`ุ ุจุงุฒุณุงุฒ Tailwind CSS ุจู Node.js ูุงุฒ ุฏุงุฑุฏ.

```bash
pip install -r requirements.txt
python manage.py migrate
python manage.py createsuperuser  # optional for admin access
python manage.py runserver
```

CSS ุงุณุชุง ุฏุฑ `static/css/tailwind.css` ุงุฒ ูพุด ุณุงุฎุชู ุดุฏู ุงุณุช. ูพุณ ุงุฒ ุชุบุฑุงุช ุจุง ุงู ุฏุณุชูุฑ ุจุงุฒุณุงุฒ ฺฉูุฏ:

```bash
npm install
npm run build
```

## ูุญุฏูุฏุชโูุง ู ุงุฏุฏุงุดุชโูุง
- ูุงูโุงูุฒุงุฑ ููุท ฺฉ ุฑูู ุฑุง ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏ ู ูฺ ูุฑูุฏ/ุณูุณูุฑ ุฑุง ููโุฎูุงูุฏ.ใF:devices/firmware/main.pyโL37-L45ใใF:devices/firmware/main.pyโL678-L695ใ
- ุงุญุฑุงุฒ ููุช ุฏุณุชฺฏุงู ููุท ุจู ุชูฺฉู API ูุชฺฉ ุงุณุชุ ูฺ ูพฺฉุฑุจูุฏ TLS ุง Certificate Pinning ุฏุฑ ฺฉุฏ ูุงูโุงูุฒุงุฑ ูุฌูุฏ ูุฏุงุฑุฏ.ใF:devices/views.pyโL25-L41ใใF:devices/firmware/main.pyโL439-L523ใ
- ุชูุธูุงุช Django ุจูโุตูุฑุช ูพุดโูุฑุถ `DEBUG=True`ุ SQLite ู `ALLOWED_HOSTS` ุจุงุฒ ูุณุชูุฏุ ุจุฑุง ุงุณุชูุฑุงุฑ ุฏุฑ ุชููุฏ ุขููุง ุฑุง ุชูุธู ฺฉูุฏ.ใF:config/settings.pyโL16-L47ใ

## ฺฉุงุฑูุง ุขูุฏู
- ูุฎุฒู ุจู ุงูฺฉุงูุงุช ุงุญุชูุงู ูุจุชู ุจุฑ NFCุ PIN ุง ุงุซุฑ ุงูฺฏุดุช ุงุดุงุฑู ูโฺฉูุฏ ุงูุง ุฏุฑ ฺฉุฏ ูุนู ูพุงุฏูโุณุงุฒ ูุดุฏูโุงูุฏ.
